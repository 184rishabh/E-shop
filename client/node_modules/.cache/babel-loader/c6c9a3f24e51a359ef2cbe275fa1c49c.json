{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{useLocation}from'react-router';import axios from'axios';import{addProduct}from'../components/redux/cartredux';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import'./productpage.css';import{Link}from'react-router-dom';import NAV from'../components/nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PRODUCTPAGE(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setproduct=_useState2[1];var location=useLocation();var id=location.pathname.split(\"/\")[2];var quantity=useSelector(function(state){return state.cart.quantity;});console.log(quantity);var dispatch=useDispatch();function addcart(item){dispatch(addProduct({item:item,quantity:quantity}));var products=[];if(localStorage.getItem('products')){products=JSON.parse(localStorage.getItem('products'));}if(products.length==0){products.push({'productId':item._id,'image':item.img,'price':item.price,'title':item.title,'quantity':1});localStorage.setItem('products',JSON.stringify(products));}else{if(products.some(function(p){return p.productId===item._id;})){var a=products.map(function(p){if(p.productId===item._id){var x=p.quantity+1;var id=p.productId;var storageProducts=JSON.parse(localStorage.getItem('products'));var _products=storageProducts.filter(function(product){return product.productId!==id;});localStorage.setItem('products',JSON.stringify(_products));_products.push({'productId':item._id,'image':item.img,'price':item.price,'title':item.title,'quantity':x});localStorage.setItem('products',JSON.stringify(_products));return p.productId;}});}else{products.push({'productId':item._id,'image':item.img,'price':item.price,'title':item.title,'quantity':1});localStorage.setItem('products',JSON.stringify(products));}}}useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var fetchdata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchdata=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/api/product/find/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setproduct(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchdata(){return _ref2.apply(this,arguments);};}();fetchdata();case 2:case\"end\":return _context2.stop();}}},_callee2);})),[id]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(NAV,{children:\"  \"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-5\",children:/*#__PURE__*/_jsx(\"div\",{id:\"carouselExampleSlidesOnly\",class:\"carousel slide\",\"data-ride\":\"carousel\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"carousel-inner\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"carousel-item active\",children:/*#__PURE__*/_jsx(\"img\",{class:\"d-block w-100\",src:product.img,alt:\"First slide\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"carousel-item\",children:/*#__PURE__*/_jsx(\"img\",{class:\"d-block w-100\",src:product.img,alt:\"Second slide\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"carousel-item\",children:/*#__PURE__*/_jsx(\"img\",{class:\"d-block w-100\",src:product.img,alt:\"Third slide\"})})]})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-7\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"newarrival text-center\",children:\"New\"}),/*#__PURE__*/_jsx(\"h2\",{class:\"heading\",children:product.title}),/*#__PURE__*/_jsx(\"p\",{children:product.desc}),/*#__PURE__*/_jsxs(\"p\",{class:\"price\",children:[\"  INR \",product.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Availability:\"}),\" In Stock\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Brand:\"}),\" XYZ Company\"]}),/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:\"1\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addcart(product);},type:\"button\",class:\"btn btn-default cart\",children:\"Add to cart\"})})]})]})})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"container py-5\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-center\",children:\"Related Products\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"row py-5\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,class:\"fluid\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,class:\"fluid\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,class:\"fluid\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,class:\"fluid\"})})})]})]})})]})]});}export default PRODUCTPAGE;","map":{"version":3,"sources":["/Users/rishabh/Desktop/E-shop/e-shop/client/src/singleproduct/productpage.js"],"names":["React","Fragment","useEffect","useState","useLocation","axios","addProduct","useDispatch","useSelector","Link","NAV","PRODUCTPAGE","product","setproduct","location","id","pathname","split","quantity","state","cart","console","log","dispatch","addcart","item","products","localStorage","getItem","JSON","parse","length","push","_id","img","price","title","setItem","stringify","some","p","productId","a","map","x","storageProducts","filter","fetchdata","get","data","desc"],"mappings":"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","sourcesContent":["import React,{Fragment, useEffect ,useState} from 'react'\nimport { useLocation  } from 'react-router';\nimport axios from 'axios';\nimport { addProduct } from '../components/redux/cartredux'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'react-redux'\n\n\nimport './productpage.css'\nimport { Link } from 'react-router-dom';\nimport NAV from '../components/nav';\n\nfunction PRODUCTPAGE() {\n    \n  const[product,setproduct]= useState([]);\n  \n  const location=useLocation();\n  const id=location.pathname.split(\"/\")[2];\n  const quantity = useSelector(state => state.cart.quantity) \n  console.log(quantity)\n  const dispatch=useDispatch();\n\n  function addcart(item){\n\n    dispatch(addProduct({item,quantity}))\n\n    let products = [];\n    if(localStorage.getItem('products')){\n        products = JSON.parse(localStorage.getItem('products'));\n    }\n    if(products.length==0)\n         {\n            products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1});\n            localStorage.setItem('products', JSON.stringify(products));\n         }\n    else{\n          if(products.some((p)=> p.productId === item._id))\n          {\n             var a=products.map((p)=>{\n             if(p.productId === item._id)\n             {\n                var x=p.quantity + 1;\n                var id=p.productId;\n                let storageProducts = JSON.parse(localStorage.getItem('products'));\n                let products = storageProducts.filter(product => product.productId !== id );\n                localStorage.setItem('products', JSON.stringify(products));\n                products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':x});\n                localStorage.setItem('products', JSON.stringify(products));\n                return p.productId;\n             }\n           })\n          }\n\n          else{\n                products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1});\n                localStorage.setItem('products', JSON.stringify(products));\n              }\n        }\n  }\n\n \n  useEffect(async() => {\n    const fetchdata=async()=>{\n        const {data}=await axios.get(`http://localhost:5000/api/product/find/${id}`)\n   \n        setproduct(data)\n        \n      }\n    fetchdata()\n  }, [id])\n          \n    return (\n        <Fragment>\n          <NAV>  </NAV>\n          <div>\n        <section>\n        <div class=\"container\">\n            <div class=\"row \">\n            \n                <div class=\"col-md-5\">\n                    <div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n                        <div class=\"carousel-inner\">\n                          <div class=\"carousel-item active\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"First slide\"/>\n                          </div>\n                          <div class=\"carousel-item\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"Second slide\"/>\n                          </div>\n                          <div class=\"carousel-item\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"Third slide\"/>\n                          </div>\n                        </div>\n                      </div>\n                </div>\n                <div class=\"col-md-7\">\n                     <p class=\"newarrival text-center\">New</p>\n                     <h2 class=\"heading\">{product.title}</h2>\n                     <p>{product.desc}</p>\n                     <p class=\"price\">  INR {product.price}</p>\n                     <p><b>Availability:</b> In Stock</p>\n                     <p><b>Brand:</b> XYZ Company</p>\n                     <label>Quantity:</label>\n                    <input type=\"text\" value=\"1\"/>\n                    <Link to='/cart'>\n                     <button onClick={()=>addcart(product)} type=\"button\" class=\"btn btn-default cart\">Add to cart</button>\n                     </Link>\n                </div>\n              </div>\n        </div>\n    </section>\n\n    <section>\n      <div class=\"container py-5\">\n        <h1 class=\"text-center\">Related Products</h1>\n        <div class=\"row py-5\">\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n                \n            </div>   \n        </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n               \n            </div> \n            </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n                \n            </div> \n            </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n            </div> \n            </div>\n        </div>\n      </div>\n  </section>\n        </div>\n        \n        </Fragment>\n    )\n}\n\nexport default PRODUCTPAGE\n"]},"metadata":{},"sourceType":"module"}