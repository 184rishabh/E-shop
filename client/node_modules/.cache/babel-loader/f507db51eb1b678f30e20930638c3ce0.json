{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rishabh/Desktop/E-shop/e-shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment}from'react';import'./products.css';import axios from'axios';import{useEffect,useState}from'react';import{Link,Redirect}from'react-router-dom';import{addProduct}from'../components/redux/cartredux';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import NAV from'../components/nav';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PRODUCT(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setproduct=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setcategory=_useState4[1];var quantity=useSelector(function(state){return state.cart.quantity;});var dispatch=useDispatch();var notify=function notify(){return toast.success(\"Item added to cart!\",{autoClose:1000});};var productliked=function productliked(){return toast.success(\"product liked!\",{autoClose:1000});};function addcart(item,title){notify();dispatch(addProduct({item:item,quantity:quantity}));var products=[];if(localStorage.getItem('products')){products=JSON.parse(localStorage.getItem('products'));}if(products.length==0){products.push({'productId':item._id,'image':item.img,'price':item.price,'title':item.title,'quantity':1});localStorage.setItem('products',JSON.stringify(products));}else{if(products.some(function(p){return p.productId===item._id;})){var cart=[];if(typeof window!==\"undefined\")if(localStorage.getItem(\"products\")){cart=JSON.parse(localStorage.getItem(\"products\"));}cart.map(function(product,i){if(product.title===title){var a=cart[i].quantity;cart[i].quantity=a+1;}});localStorage.setItem(\"products\",JSON.stringify(cart));}else{products.push({'productId':item._id,'image':item.img,'price':item.price,'title':item.title,'quantity':1});localStorage.setItem('products',JSON.stringify(products));}}}useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var fetchdata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchdata=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data,_yield$axios$get2,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(category==\"\")){_context.next=8;break;}_context.next=3;return axios.get(\"http://localhost:5000/api/product/\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setproduct(data);_context.next=13;break;case 8:_context.next=10;return axios.get(\"http://localhost:5000/api/product?category=\".concat(category));case 10:_yield$axios$get2=_context.sent;_data=_yield$axios$get2.data;setproduct(_data);case 13:case\"end\":return _context.stop();}}},_callee);}));return function fetchdata(){return _ref2.apply(this,arguments);};}();fetchdata();case 2:case\"end\":return _context2.stop();}}},_callee2);})),[category]);var handler=function handler(e){console.log(e.target.value);setcategory(e.target.value);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(NAV,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"container category-container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"text-center\",children:\" All Product\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{class:\"text-center category-heading\",children:\"New Arrival\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"category-features\",onChange:function onChange(e){handler(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"all\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Men\",children:\"Mens\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Women\",children:\"Women\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kids\",children:\"Kids\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row mt-5\",children:product.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-3\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card product-top\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"\",class:\"img-fluid\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"overlay\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",title:\"quick shop\",children:/*#__PURE__*/_jsxs(Link,{to:\"/singleproduct/\".concat(item._id),children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\" category-icon fa-solid fa-eye\"}),\" \"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){productliked();},class:\"btn btn-secondary\",title:\"like product\",children:/*#__PURE__*/_jsx(\"i\",{class:\" category-icon fa-solid fa-heart\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addcart(item,item.title);},class:\"btn btn-secondary\",title:\"Add to cart\",children:/*#__PURE__*/_jsx(\"i\",{class:\"category-icon fa-solid fa-cart-shopping\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr rupee\",\"aria-hidden\":\"true\"}),item.price]})]})]});})})]}),/*#__PURE__*/_jsx(ToastContainer,{})]})]});}export default PRODUCT;","map":{"version":3,"sources":["/Users/rishabh/Desktop/E-shop/e-shop/client/src/products/product.js"],"names":["React","Fragment","axios","useEffect","useState","Link","Redirect","addProduct","useDispatch","useSelector","NAV","ToastContainer","toast","PRODUCT","product","setproduct","category","setcategory","quantity","state","cart","dispatch","notify","success","autoClose","productliked","addcart","item","title","products","localStorage","getItem","JSON","parse","length","push","_id","img","price","setItem","stringify","some","p","productId","window","map","i","a","fetchdata","get","data","handler","e","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment }  from 'react'\nimport './products.css'\nimport axios from 'axios'\n\nimport { useEffect, useState } from 'react'\n\nimport {Link, Redirect} from 'react-router-dom'\nimport { addProduct } from '../components/redux/cartredux'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'react-redux'\nimport NAV from '../components/nav'\n\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\n\nfunction PRODUCT() {\n   const [product, setproduct] = useState([]);\n   const [category, setcategory] = useState(\"\");\n\n   const quantity = useSelector(state => state.cart.quantity) \n   const dispatch=useDispatch();\n\n   const notify = () => toast.success(\"Item added to cart!\",{autoClose: 1000});\n   const productliked = () => toast.success(\"product liked!\",{autoClose: 1000});\n\n   function addcart(item,title){\n    notify()\n    dispatch(addProduct({item,quantity}))\n    let products = [];\n    if(localStorage.getItem('products')){\n        products = JSON.parse(localStorage.getItem('products'));\n    }\n    if(products.length==0)\n         {\n            products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1 });\n            localStorage.setItem('products', JSON.stringify(products));\n         }\n    else{\n      if(products.some((p)=> p.productId === item._id))\n       {  \n            let cart=[];\n            if(typeof window!==\"undefined\")\n            if(localStorage.getItem(\"products\"))\n             {\n               cart=JSON.parse(localStorage.getItem(\"products\"));\n             }\n            cart.map((product,i)=>{\n            if(product.title === title)\n            { \n             var a=cart[i].quantity;\n             cart[i].quantity=a+1;\n            }\n            });\n            localStorage.setItem(\"products\",JSON.stringify(cart));\n        }\n\n       else{\n        products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1});\n        localStorage.setItem('products', JSON.stringify(products));\n         }\n\n    } \n\n\n    }\n\n   useEffect(async() => {\n       const fetchdata=async()=>{\n           if(category==\"\")\n           {\n           const {data}=await axios.get(`http://localhost:5000/api/product/`)\n           setproduct(data)\n           }\n           else\n           {\n            const {data}=await axios.get(`http://localhost:5000/api/product?category=${category}`)\n            setproduct(data)\n           }\n       }\n       fetchdata()\n   }, [category])\n\n     const handler=(e)=>{\n     console.log(e.target.value);\n     setcategory(e.target.value);\n    \n        }\n    \n    return (\n        <Fragment>\n            <NAV>\n            </NAV>\n            <div>\n\n        <div class=\"container category-container\">\n        <h1 class=\"text-center\"> All Product</h1>\n        <div class=\"d-flex justify-content-between\">\n            <div>\n               <h2 class=\"text-center category-heading\">\n                   New Arrival\n               </h2>\n            </div>\n             <div> \n             <select className=\"category-features\" onChange={e=>{handler(e)}}>\n             <option value=\"\">\n             all\n             </option>\n              <option value=\"Men\">\n              Mens\n              </option>\n              <option value=\"Women\">\n               Women\n              </option>\n              <option value=\"Kids\">\n              Kids\n             </option>\n             </select>\n             </div>\n        </div>\n        <div class=\"row mt-5\">\n        {        \n        product.map(item=>(\n        <div class=\"col-md-3\">\n           <div class=\"card product-top\">\n           <img src={item.img} alt=\"\" class=\"img-fluid\"/>\n               <div class=\"overlay\">\n                   <button type=\"button\" class=\"btn btn-secondary\" title=\"quick shop\" >\n                   <Link to={`/singleproduct/${item._id}`}> <i class=\" category-icon fa-solid fa-eye\">\n                     \n                       </i> </Link>\n                        \n                   </button>\n                   <button type=\"button\" onClick={()=>{productliked()}} class=\"btn btn-secondary\" title=\"like product\">\n                       <i class=\" category-icon fa-solid fa-heart\"></i>\n                   </button>\n                   <button onClick={()=>addcart(item,item.title)} class=\"btn btn-secondary\" title=\"Add to cart\">\n                       <i class=\"category-icon fa-solid fa-cart-shopping\"></i>\n                   </button>\n               </div>\n           </div>\n           <div class=\"text-center\">\n               <h3>{item.title}</h3>\n               <p><i class=\"fa fa-inr rupee\" aria-hidden=\"true\"></i>{item.price}</p>\n           </div>\n        </div>\n       ))\n        }\n        </div>\n        </div>\n        <ToastContainer />\n        </div>\n        </Fragment>\n    )\n}\n\nexport default PRODUCT\n"]},"metadata":{},"sourceType":"module"}