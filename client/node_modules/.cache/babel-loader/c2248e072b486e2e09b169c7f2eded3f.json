{"ast":null,"code":"var _jsxFileName = \"/Users/rishabh/Desktop/ecommerce/src/singleproduct/productpage.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport axios from 'axios';\nimport { addProduct } from '../components/redux/cartredux';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport './productpage.css';\nimport { Link } from 'react-router-dom';\nimport NAV from '../components/nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PRODUCTPAGE() {\n  _s();\n\n  const [product, setproduct] = useState([]);\n  const [similar, setsimilar] = useState([]);\n  const location = useLocation();\n  const id = location.pathname.split(\"/\")[2];\n  const quantity = useSelector(state => state.cart.quantity);\n  console.log(quantity);\n  const dispatch = useDispatch();\n\n  function addcart(item) {\n    dispatch(addProduct({\n      item,\n      quantity\n    }));\n    let products = [];\n\n    if (localStorage.getItem('products')) {\n      products = JSON.parse(localStorage.getItem('products'));\n    }\n\n    if (products.length == 0) {\n      products.push({\n        'productId': item._id,\n        'image': item.img,\n        'price': item.price,\n        'title': item.title,\n        'quantity': 1\n      });\n      localStorage.setItem('products', JSON.stringify(products));\n    } else {\n      if (products.some(p => p.productId === item._id)) {\n        var a = products.map(p => {\n          if (p.productId === item._id) {\n            var x = p.quantity + 1;\n            var id = p.productId;\n            let storageProducts = JSON.parse(localStorage.getItem('products'));\n            let products = storageProducts.filter(product => product.productId !== id);\n            localStorage.setItem('products', JSON.stringify(products));\n            products.push({\n              'productId': item._id,\n              'image': item.img,\n              'price': item.price,\n              'title': item.title,\n              'quantity': x\n            });\n            localStorage.setItem('products', JSON.stringify(products));\n            return p.productId;\n          }\n        });\n      } else {\n        products.push({\n          'productId': item._id,\n          'image': item.img,\n          'price': item.price,\n          'title': item.title,\n          'quantity': 1\n        });\n        localStorage.setItem('products', JSON.stringify(products));\n      }\n    }\n  }\n\n  useEffect(async () => {\n    const fetchdata = async () => {\n      const {\n        data\n      } = await axios.get(`http://localhost:5000/api/product/find/${id}`);\n      setproduct(data);\n    };\n\n    fetchdata();\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NAV, {\n      children: \"  \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-5\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"carouselExampleSlidesOnly\",\n                class: \"carousel slide\",\n                \"data-ride\": \"carousel\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"carousel-inner\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"carousel-item active\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      class: \"d-block w-100\",\n                      src: product.img,\n                      alt: \"First slide\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"carousel-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      class: \"d-block w-100\",\n                      src: product.img,\n                      alt: \"Second slide\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"carousel-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      class: \"d-block w-100\",\n                      src: product.img,\n                      alt: \"Third slide\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-7\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"newarrival text-center\",\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                class: \"heading\",\n                children: product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: product.desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"price\",\n                children: [\"  INR \", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Availability:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 25\n                }, this), \" In Stock\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Brand:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 25\n                }, this), \" XYZ Company\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/cart\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addcart(product),\n                  type: \"button\",\n                  class: \"btn btn-default cart\",\n                  children: \"Add to cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"text-center\",\n            children: \"Related Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row py-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-lg-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.img,\n                  class: \"fluid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-lg-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.img,\n                  class: \"fluid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-lg-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.img,\n                  class: \"fluid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-lg-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.img,\n                  class: \"fluid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PRODUCTPAGE, \"TKp8nqTDe8YRrorgHRuLrk6295s=\", false, function () {\n  return [useLocation, useSelector, useDispatch];\n});\n\n_c = PRODUCTPAGE;\nexport default PRODUCTPAGE;\n\nvar _c;\n\n$RefreshReg$(_c, \"PRODUCTPAGE\");","map":{"version":3,"sources":["/Users/rishabh/Desktop/ecommerce/src/singleproduct/productpage.js"],"names":["React","Fragment","useEffect","useState","useLocation","axios","addProduct","useDispatch","useSelector","Link","NAV","PRODUCTPAGE","product","setproduct","similar","setsimilar","location","id","pathname","split","quantity","state","cart","console","log","dispatch","addcart","item","products","localStorage","getItem","JSON","parse","length","push","_id","img","price","title","setItem","stringify","some","p","productId","a","map","x","storageProducts","filter","fetchdata","data","get","desc"],"mappings":"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","sourcesContent":["import React,{Fragment, useEffect ,useState} from 'react'\nimport { useLocation  } from 'react-router';\nimport axios from 'axios';\nimport { addProduct } from '../components/redux/cartredux'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'react-redux'\n\n\nimport './productpage.css'\nimport { Link } from 'react-router-dom';\nimport NAV from '../components/nav';\n\nfunction PRODUCTPAGE() {\n    \n  const[product,setproduct]= useState([]);\n  const [similar, setsimilar] = useState([])\n  const location=useLocation();\n  const id=location.pathname.split(\"/\")[2];\n  const quantity = useSelector(state => state.cart.quantity) \n  console.log(quantity)\n  const dispatch=useDispatch();\n\n  function addcart(item){\n\n    dispatch(addProduct({item,quantity}))\n\n    let products = [];\n    if(localStorage.getItem('products')){\n        products = JSON.parse(localStorage.getItem('products'));\n    }\n    if(products.length==0)\n         {\n            products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1});\n            localStorage.setItem('products', JSON.stringify(products));\n         }\n    else{\n          if(products.some((p)=> p.productId === item._id))\n          {\n             var a=products.map((p)=>{\n             if(p.productId === item._id)\n             {\n                var x=p.quantity + 1;\n                var id=p.productId;\n                let storageProducts = JSON.parse(localStorage.getItem('products'));\n                let products = storageProducts.filter(product => product.productId !== id );\n                localStorage.setItem('products', JSON.stringify(products));\n                products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':x});\n                localStorage.setItem('products', JSON.stringify(products));\n                return p.productId;\n             }\n           })\n          }\n\n          else{\n                products.push({'productId' : item._id, 'image' : item.img ,'price':item.price ,'title' :item.title,'quantity':1});\n                localStorage.setItem('products', JSON.stringify(products));\n              }\n        }\n  }\n\n \n  useEffect(async() => {\n    const fetchdata=async()=>{\n        const {data}=await axios.get(`http://localhost:5000/api/product/find/${id}`)\n        setproduct(data)\n      }\n    fetchdata()\n  }, [id])\n          \n    return (\n        <Fragment>\n          <NAV>  </NAV>\n          <div>\n        <section>\n        <div class=\"container\">\n            <div class=\"row \">\n            \n                <div class=\"col-md-5\">\n                    <div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n                        <div class=\"carousel-inner\">\n                          <div class=\"carousel-item active\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"First slide\"/>\n                          </div>\n                          <div class=\"carousel-item\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"Second slide\"/>\n                          </div>\n                          <div class=\"carousel-item\">\n                            <img class=\"d-block w-100\" src={product.img} alt=\"Third slide\"/>\n                          </div>\n                        </div>\n                      </div>\n                </div>\n                <div class=\"col-md-7\">\n                     <p class=\"newarrival text-center\">New</p>\n                     <h2 class=\"heading\">{product.title}</h2>\n                     <p>{product.desc}</p>\n                     <p class=\"price\">  INR {product.price}</p>\n                     <p><b>Availability:</b> In Stock</p>\n                     <p><b>Brand:</b> XYZ Company</p>\n                     <label>Quantity:</label>\n                    <input type=\"text\" value=\"1\"/>\n                    <Link to='/cart'>\n                     <button onClick={()=>addcart(product)} type=\"button\" class=\"btn btn-default cart\">Add to cart</button>\n                     </Link>\n                </div>\n              </div>\n        </div>\n    </section>\n\n    <section>\n      <div class=\"container py-5\">\n        <h1 class=\"text-center\">Related Products</h1>\n        <div class=\"row py-5\">\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n                \n            </div>   \n        </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n               \n            </div> \n            </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n                \n            </div> \n            </div>\n            <div class=\"col-lg-3\">\n              <div class=\"card\">\n                <img src={product.img} class=\"fluid\"/>\n            </div> \n            </div>\n        </div>\n      </div>\n  </section>\n        </div>\n        \n        </Fragment>\n    )\n}\n\nexport default PRODUCTPAGE\n"]},"metadata":{},"sourceType":"module"}